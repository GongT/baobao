## API Report File for "@idlebox/state"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Baobab } from 'baobab';
import { Cursor } from 'baobab';
import { DeepReadonly } from '@idlebox/common';
import { Disposable } from '@idlebox/common';
import { EventRegister } from '@idlebox/common';
import { IDisposable } from '@idlebox/common';
import { MemorizedEmitter } from '@idlebox/common';
import { Watcher } from 'baobab';

// Warning: (ae-forgotten-export) The symbol "IDataMessage" needs to be exported by the entry point index.generated.d.ts
// Warning: (ae-missing-release-tag) "createDataMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createDataMessage(id: number, data: IData): IDataMessage;

// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
// Warning: (ae-forgotten-export) The symbol "IOptions" needs to be exported by the entry point index.generated.d.ts
//
// @public
export function createMaster(options?: Partial<IOptions>): StateMaster;

// Warning: (ae-missing-release-tag) "createSameProcessChild" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createSameProcessChild(title: string): IPCDriver;

// Warning: (ae-missing-release-tag) "createSameProcessMain" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createSameProcessMain(title: string): SameProcessMain;

// Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
//
// @public
export function createSlave(channel: IPCDriver): StateSlave;

// Warning: (ae-forgotten-export) The symbol "SimpleTypes" needs to be exported by the entry point index.generated.d.ts
// Warning: (ae-missing-release-tag) "IData" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type IData = Record<string, SimpleTypes>;

// Warning: (ae-missing-release-tag) "IEventMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IEventMessage {
    // (undocumented)
    action: 'event';
    // (undocumented)
    event: string;
    // (undocumented)
    payload: any;
}

// Warning: (ae-missing-release-tag) "IMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IMessage {
    // (undocumented)
    action: string;
}

// Warning: (ae-missing-release-tag) "IMessageHandlerInternal" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type IMessageHandlerInternal = (message: IMessage) => Promise<any>;

// Warning: (ae-missing-release-tag) "IPCDriver" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IPCDriver extends IDisposable {
    // (undocumented)
    call<T extends IMessage>(message: T): Promise<any>;
    // (undocumented)
    handle(callback: IMessageHandlerInternal): void;
}

// Warning: (ae-missing-release-tag) "IPCServerDriver" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IPCServerDriver extends IPCDriver {
    // (undocumented)
    readonly onBeforeDispose: EventRegister<void>;
    // (undocumented)
    title: string;
}

// Warning: (ae-missing-release-tag) "IRawMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type IRawMessage = IRawMessageReply | IRawMessageSend;

// Warning: (ae-missing-release-tag) "IRawMessageReply" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IRawMessageReply {
    // (undocumented)
    __messageKind: string;
    // (undocumented)
    content?: any;
    // (undocumented)
    error?: {
        message: string;
        stack?: string;
    };
    // (undocumented)
    guid: number;
    // (undocumented)
    reply: true;
}

// Warning: (ae-missing-release-tag) "IRawMessageSend" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IRawMessageSend {
    // (undocumented)
    __messageKind: string;
    // (undocumented)
    guid: number;
    // (undocumented)
    message: IMessage;
    // (undocumented)
    reply: false;
}

// Warning: (ae-missing-release-tag) "isDataMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isDataMessage(v: IMessage): v is IDataMessage;

// Warning: (ae-forgotten-export) The symbol "IDisposeMessage" needs to be exported by the entry point index.generated.d.ts
// Warning: (ae-missing-release-tag) "isDisposeMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isDisposeMessage(v: IMessage): v is IDisposeMessage;

// Warning: (ae-missing-release-tag) "isEventMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isEventMessage(v: IMessage): v is IEventMessage;

// Warning: (ae-missing-release-tag) "isSubscribeAfterMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isSubscribeAfterMessage(v: IMessage): v is ISubscribeAfterMessage;

// Warning: (ae-missing-release-tag) "isSubscribeMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isSubscribeMessage(v: IMessage): v is ISubscribeMessage;

// Warning: (ae-missing-release-tag) "ISubscribeAfterMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface ISubscribeAfterMessage {
    // (undocumented)
    action: 'subscribeAfter';
    // (undocumented)
    subscribeId: number;
}

// Warning: (ae-missing-release-tag) "ISubscribeMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface ISubscribeMessage {
    // (undocumented)
    action: 'subscribe';
    // (undocumented)
    subscribe: Record<string, string[]>;
}

// Warning: (ae-forgotten-export) The symbol "IUnsubscribeMessage" needs to be exported by the entry point index.generated.d.ts
// Warning: (ae-missing-release-tag) "isUnsubscribeMessage" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isUnsubscribeMessage(v: IMessage): v is IUnsubscribeMessage;

// Warning: (ae-forgotten-export) The symbol "RawMessageHandler" needs to be exported by the entry point index.generated.d.ts
// Warning: (ae-missing-release-tag) "rawMessageHandler" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export const rawMessageHandler: RawMessageHandler;

// Warning: (ae-missing-release-tag) "SameProcessMain" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class SameProcessMain extends Disposable implements IPCServerDriver {
    constructor(title: string);
    // (undocumented)
    call<T extends IMessage>(message: T): Promise<any>;
    // (undocumented)
    protected cHandler?: IMessageHandlerInternal;
    // (undocumented)
    dispose(): void;
    // (undocumented)
    fork(): IPCDriver;
    // (undocumented)
    handle(callback: IMessageHandlerInternal): void;
    // (undocumented)
    protected mHandler?: IMessageHandlerInternal;
    // (undocumented)
    readonly title: string;
}

// @public
export class StateMaster {
    // Warning: (ae-forgotten-export) The symbol "IStateMasterOptions" needs to be exported by the entry point index.generated.d.ts
    constructor(state: Baobab, options?: IStateMasterOptions);
    // Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
    attach(child: IPCServerDriver): void;
    // Warning: (ae-forgotten-export) The symbol "WatchList" needs to be exported by the entry point index.generated.d.ts
    //
    // (undocumented)
    protected getWatchedValue(id: number, watchList: WatchList): Record<string, any>;
    // Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
    // Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
    // Warning: (ae-forgotten-export) The symbol "StateModifier" needs to be exported by the entry point index.generated.d.ts
    on(eventName: string, callback: (payload: any, state: StateModifier) => void | Promise<void>): void;
    // (undocumented)
    readonly state: Baobab;
    // (undocumented)
    protected subscribe(subscribe: Record<string, string[]>, channel: IPCServerDriver, watchList: WatchList): number;
    // (undocumented)
    protected unsubscribe(subscribeId: number, watchList: WatchList): void;
}

// Warning: (ae-missing-release-tag) "StateSlave" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class StateSlave {
    constructor(channel: IPCDriver);
    // (undocumented)
    dispose(): Promise<void>;
    // Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
    // Warning: (tsdoc-escape-right-brace) The "}" character should be escaped using a backslash to avoid confusion with a TSDoc inline tag
    // Warning: (tsdoc-escape-right-brace) The "}" character should be escaped using a backslash to avoid confusion with a TSDoc inline tag
    // Warning: (tsdoc-malformed-inline-tag) Expecting a TSDoc tag starting with "{@"
    // Warning: (tsdoc-malformed-inline-tag) Expecting a TSDoc tag starting with "{@"
    // Warning: (ae-forgotten-export) The symbol "EventHelper" needs to be exported by the entry point index.generated.d.ts
    subscribe<T>(data: Record<keyof T, string[]>): Promise<Pick<EventHelper<T>, 'onChange' | 'dispose'>>;
    // Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
    // Warning: (tsdoc-param-tag-missing-hyphen) The @param block should be followed by a parameter name and then a hyphen
    trigger(event: string, payload: any): Promise<void>;
}

// (No @packageDocumentation comment for this package)

```
