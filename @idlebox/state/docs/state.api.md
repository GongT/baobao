## API Report File for "@idlebox/state"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Baobab } from 'baobab';
import { BrowserWindow } from 'electron';
import { Cursor } from 'baobab';
import { Disposable } from '@idlebox/common';
import { Emitter } from '@idlebox/common';
import type EventEmitter from 'node:events';
import { EventRegister } from '@idlebox/common';
import { IDisposable } from '@idlebox/common';
import { Watcher } from 'baobab';

// Warning: (ae-forgotten-export) The symbol "IDataMessage" needs to be exported by the entry point _export_all_in_one_index.d.ts
// Warning: (ae-missing-release-tag) "createDataMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createDataMessage(id: number, data: IData): IDataMessage;

// Warning: (ae-forgotten-export) The symbol "IOptions" needs to be exported by the entry point _export_all_in_one_index.d.ts
// Warning: (ae-missing-release-tag) "createMaster" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createMaster(options?: Partial<IOptions>): StateMaster;

// Warning: (ae-missing-release-tag) "createSameProcessChild" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createSameProcessChild(title: string): IPCDriver;

// Warning: (ae-missing-release-tag) "createSameProcessMain" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createSameProcessMain(title: string): SameProcessMain;

// Warning: (ae-missing-release-tag) "createSlave" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function createSlave(channel: IPCDriver): StateSlave;

// Warning: (ae-missing-release-tag) "ElectronIPCMain" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class ElectronIPCMain extends Disposable implements IPCServerDriver {
    constructor(channel: string, browserWindow: BrowserWindow);
    // (undocumented)
    call<T extends IMessage>(message: T): Promise<any>;
    // (undocumented)
    handle(callback: IMessageHandlerInternal): void;
    // (undocumented)
    protected handlerHasRegister: boolean;
    // (undocumented)
    get title(): string;
}

// Warning: (ae-missing-release-tag) "ElectronIPCRender" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class ElectronIPCRender extends Disposable implements IPCServerDriver {
    constructor(channel: string);
    // (undocumented)
    call<T extends IMessage>(message: T): Promise<any>;
    // (undocumented)
    handle(callback: IMessageHandlerInternal): void;
    // (undocumented)
    protected handlerHasRegister: boolean;
    // (undocumented)
    readonly title: string;
}

// Warning: (ae-forgotten-export) The symbol "SimpleTypes" needs to be exported by the entry point _export_all_in_one_index.d.ts
// Warning: (ae-missing-release-tag) "IData" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type IData = Record<string, SimpleTypes>;

// Warning: (ae-missing-release-tag) "IEventMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IEventMessage {
    // (undocumented)
    action: 'event';
    // (undocumented)
    event: string;
    // (undocumented)
    payload: any;
}

// Warning: (ae-missing-release-tag) "IMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IMessage {
    // (undocumented)
    action: string;
}

// Warning: (ae-missing-release-tag) "IMessageHandlerInternal" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type IMessageHandlerInternal = (message: IMessage) => Promise<any>;

// Warning: (ae-missing-release-tag) "IPCDriver" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IPCDriver extends IDisposable {
    // (undocumented)
    call<T extends IMessage>(message: T): Promise<any>;
    // (undocumented)
    handle(callback: IMessageHandlerInternal): void;
}

// Warning: (ae-missing-release-tag) "IPCServerDriver" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IPCServerDriver extends IPCDriver {
    // (undocumented)
    readonly onBeforeDispose: EventRegister<void>;
    // (undocumented)
    title: string;
}

// Warning: (ae-missing-release-tag) "IProcessSlice" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IProcessSlice extends Pick<EventEmitter, 'addListener' | 'removeListener'> {
    // (undocumented)
    send(message: any, callback?: (error: Error | null) => void): boolean;
}

// Warning: (ae-missing-release-tag) "IRawMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type IRawMessage = IRawMessageReply | IRawMessageSend;

// Warning: (ae-missing-release-tag) "IRawMessageReply" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IRawMessageReply {
    // (undocumented)
    __messageKind: string;
    // (undocumented)
    content?: any;
    // (undocumented)
    error?: {
        message: string;
        stack?: string;
    };
    // (undocumented)
    guid: number;
    // (undocumented)
    reply: true;
}

// Warning: (ae-missing-release-tag) "IRawMessageSend" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface IRawMessageSend {
    // (undocumented)
    __messageKind: string;
    // (undocumented)
    guid: number;
    // (undocumented)
    message: IMessage;
    // (undocumented)
    reply: false;
}

// Warning: (ae-missing-release-tag) "isDataMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isDataMessage(v: IMessage): v is IDataMessage;

// Warning: (ae-forgotten-export) The symbol "IDisposeMessage" needs to be exported by the entry point _export_all_in_one_index.d.ts
// Warning: (ae-missing-release-tag) "isDisposeMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isDisposeMessage(v: IMessage): v is IDisposeMessage;

// Warning: (ae-missing-release-tag) "isEventMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isEventMessage(v: IMessage): v is IEventMessage;

// Warning: (ae-missing-release-tag) "isSubscribeMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isSubscribeMessage(v: IMessage): v is ISubscribeMessage;

// Warning: (ae-missing-release-tag) "ISubscribeMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface ISubscribeMessage {
    // (undocumented)
    action: 'subscribe';
    // (undocumented)
    subscribe: Record<string, string[]>;
}

// Warning: (ae-forgotten-export) The symbol "IUnsubscribeMessage" needs to be exported by the entry point _export_all_in_one_index.d.ts
// Warning: (ae-missing-release-tag) "isUnsubscribeMessage" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export function isUnsubscribeMessage(v: IMessage): v is IUnsubscribeMessage;

// Warning: (ae-missing-release-tag) "NodeIPCBase" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export abstract class NodeIPCBase extends Disposable implements IPCDriver {
    constructor(title: string, channel: IProcessSlice);
    // (undocumented)
    call<T extends IMessage>(message: T): Promise<any>;
    // (undocumented)
    protected readonly channel: IProcessSlice;
    // (undocumented)
    handle(callback: IMessageHandlerInternal): void;
    // (undocumented)
    protected handleMessage(msg: IRawMessageSend): void;
    // (undocumented)
    protected handler?: (message: IMessage) => void | Promise<void>;
    // (undocumented)
    readonly title: string;
}

// Warning: (ae-missing-release-tag) "NodeIPCChild" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class NodeIPCChild extends NodeIPCBase implements IPCDriver {
    constructor(title?: string);
}

// Warning: (ae-missing-release-tag) "NodeIPCMain" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class NodeIPCMain extends NodeIPCBase implements IPCServerDriver {
    constructor(title: string, channel: IProcessSlice);
}

// Warning: (ae-forgotten-export) The symbol "RawMessageHandler" needs to be exported by the entry point _export_all_in_one_index.d.ts
// Warning: (ae-missing-release-tag) "rawMessageHandler" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export const rawMessageHandler: RawMessageHandler;

// Warning: (ae-missing-release-tag) "SameProcessMain" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class SameProcessMain extends Disposable implements IPCServerDriver {
    constructor(title: string);
    // (undocumented)
    call<T extends IMessage>(message: T): Promise<any>;
    // (undocumented)
    protected cHandler?: IMessageHandlerInternal;
    // (undocumented)
    dispose(): void;
    // (undocumented)
    fork(): IPCDriver;
    // (undocumented)
    handle(callback: IMessageHandlerInternal): void;
    // (undocumented)
    protected mHandler?: IMessageHandlerInternal;
    // (undocumented)
    readonly title: string;
}

// Warning: (ae-missing-release-tag) "StateMaster" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class StateMaster {
    constructor(state: Baobab);
    // (undocumented)
    attach(child: IPCServerDriver): void;
    // Warning: (ae-forgotten-export) The symbol "StateModifier" needs to be exported by the entry point _export_all_in_one_index.d.ts
    //
    // (undocumented)
    on(eventName: string, callback: (payload: any, state: StateModifier) => void | Promise<void>): void;
    // (undocumented)
    readonly state: Baobab;
    // Warning: (ae-forgotten-export) The symbol "WatchList" needs to be exported by the entry point _export_all_in_one_index.d.ts
    //
    // (undocumented)
    protected subscribe(subscribe: Record<string, string[]>, channel: IPCServerDriver, watchList: WatchList): number;
    // (undocumented)
    protected unsubscribe(subscribeId: number, watchList: WatchList): void;
}

// Warning: (ae-missing-release-tag) "StateSlave" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class StateSlave {
    constructor(channel: IPCDriver);
    // (undocumented)
    dispose(): Promise<void>;
    // Warning: (ae-forgotten-export) The symbol "EventHelper" needs to be exported by the entry point _export_all_in_one_index.d.ts
    //
    // (undocumented)
    subscribe<T>(data: Record<keyof T, string[]>): Promise<Pick<EventHelper<T>, 'onChange' | 'dispose'>>;
    // (undocumented)
    trigger(event: string, payload: any): Promise<void>;
}


// (No @packageDocumentation comment for this package)

```
